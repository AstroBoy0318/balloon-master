{"version":3,"sources":["GameScreen.js","logo.svg","Login.js","Profile.js","TopUp.js","CashOut.js","Chat.js","getWeb3.js","Home.js","App.js","serviceWorker.js","index.js"],"names":["game","GameScreen","props","state","this","load","image","spritesheet","frameWidth","frameHeight","bg","add","sprite","displayWidth","window","innerWidth","displayHeight","innerHeight","setOrigin","cloudBack","tileSprite","setScale","tileScaleX","tileScaleY","cloudMid","cloudFront","balloon","physics","setInteractive","console","log","body","maxVelocity","x","y","setBounce","setCollideWorldBounds","setGravityY","anims","create","key","frames","generateFrameNumbers","start","end","frameRate","animComplete","animation","frame","Math","random","play","velocityFromRotation","Phaser","Vector2","setVelocity","floor","angularVelocity","angularDrag","on","started","clickBalloon","tilePositionX","nextProps","gameStarted","Scene","config","type","AUTO","parent","pixelArt","backgroundColor","width","height","default","arcade","gravity","debug","scene","preload","update","Game","id","Component","Login","username","password","handleUsername","bind","handlePassword","event","setState","target","value","className","onChange","onClick","login","register","Profile","balance","handlePanels","joinGame","TopUp","amount","handleAmount","style","display","privatekey","handleKey","topUp","CashOut","coinbase","handleAddress","cashOut","Chat","position","left","bottom","textAlign","overflow","overflowWrap","messageList","map","o","sender","message","chatMessage","handleChat","onKeyPress","e","sendMessage","getWeb3","Promise","resolve","reject","addEventListener","results","web3","Web3","currentProvider","provider","providers","HttpProvider","serverURL","socket","openSocket","abi","Home","currentUser","sessionId","privateKey","userCount","spent","forcePop","currentPanel","getBalance","handleMessageBox","quitGame","that","count","msg","push","then","eth","getAccounts","error","accounts","length","localStorage","getItem","cb","k","substr","pKey","privateKeyToAccount","wallet","catch","fetch","method","headers","JSON","stringify","response","json","data","status","alert","show","err","userhash","utils","soliditySha3","a","ethers","getDefaultProvider","contract","Contract","PlayerBalances","currentValue","formatEther","Number","toFixed","mainContract","ethereum","request","account","parseEther","toString","overrides","gasLimit","from","thisObj","methods","deposit","send","res","emit","val","profilePanels","top","borderRadius","margin","color","padding","right","withAlert","App","Route","exact","path","render","Boolean","location","hostname","match","ReactDOM","template","AlertTemplate","timeout","offset","transition","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"wXAIIA,E,0FCJW,I,uEDyKAC,E,kDAlKb,WAAYC,GAAQ,IAAD,8BACnB,cAAMA,IACDC,MAAQ,CACXH,KAAM,MAHW,E,2CAUrB,WACEI,KAAKC,KAAKC,MAAM,aAAc,2BAE9BF,KAAKC,KAAKE,YAAY,UACpB,2BACA,CAAEC,WAAY,IAAKC,YAAa,MAElCL,KAAKC,KAAKC,MAAM,YAAa,+BAC7BF,KAAKC,KAAKC,MAAM,WAAY,iCAC5BF,KAAKC,KAAKC,MAAM,aAAc,kC,oBAGhC,WAME,IAAII,EAAKN,KAAKO,IAAIC,OAAO,EAAG,EAAG,cAC/BF,EAAGG,aAAeC,OAAOC,WACzBL,EAAGM,cAAgBF,OAAOG,YAC1BP,EAAGQ,UAAU,EAAE,GAEfd,KAAKe,UAAYf,KAAKO,IAAIS,WAAWN,OAAOC,WAAY,EAAGD,OAAOG,YAAY,EAAGH,OAAOC,WAAYD,OAAOG,YAAa,aACxHb,KAAKe,UAAUE,SAAS,GACxBjB,KAAKe,UAAUG,WAAa,GAC5BlB,KAAKe,UAAUI,WAAa,GAE5BnB,KAAKoB,SAAWpB,KAAKO,IAAIS,WAAWN,OAAOC,WAAY,EAAGD,OAAOG,YAAY,EAAGH,OAAOC,WAAYD,OAAOG,YAAa,YACvHb,KAAKoB,SAASH,SAAS,GACvBjB,KAAKoB,SAASF,WAAa,GAC3BlB,KAAKoB,SAASD,WAAa,GAE3BnB,KAAKqB,WAAarB,KAAKO,IAAIS,WAAWN,OAAOC,WAAY,EAAGD,OAAOG,YAAY,EAAGH,OAAOC,WAAYD,OAAOG,YAAa,cACzHb,KAAKqB,WAAWJ,SAAS,GACzBjB,KAAKqB,WAAWH,WAAa,GAC7BlB,KAAKqB,WAAWF,WAAa,GAE7B,IAAIG,EAAUtB,KAAKuB,QAAQhB,IAAIC,OAAO,IAAK,IAAK,WAAWgB,iBAC3DF,EAAQb,aAAe,IACvBa,EAAQV,cAAgB,IACxBa,QAAQC,IAAIJ,GAEZA,EAAQK,KAAKC,YAAc,CAACC,EAAG,IAAMC,EAAG,KACxCR,EAAQS,UAAU,GAClBT,EAAQU,uBAAsB,GAC9BV,EAAQK,KAAKM,YAAY,IAEzBjC,KAAKkC,MAAMC,OAAO,CAChBC,IAAK,OACLC,OAAQrC,KAAKkC,MAAMI,qBAAqB,UAAW,CAAEC,MAAO,EAAGC,IAAK,IACpEC,UAAW,KAIbzC,KAAKkC,MAAMC,OAAO,CAChBC,IAAK,MACLC,OAAQrC,KAAKkC,MAAMI,qBAAqB,UAAW,CAAEC,MAAO,EAAGC,IAAK,KACpEC,UAAW,KAIb,IAAIC,EAAe,SAACC,EAAWC,GAEP,OAAjBD,EAAUP,MAOXd,EAAQO,EAAIgB,KAAKC,SAAWpC,OAAOC,WACnCW,EAAQQ,EAAI,IACZR,EAAQY,MAAMa,KAAK,QAAQ,KAKN/C,KAAKuB,QAAQyB,qBACzB,IAAIC,IAAOJ,KAAKK,QAE/B5B,EAAQ6B,YAAYN,KAAKO,MAAsB,IAAhBP,KAAKC,SAAiB,KAAOD,KAAKO,MAAsB,IAAhBP,KAAKC,SAAiB,MAC7FxB,EAAQK,KAAK0B,gBAAkB,IAC/B/B,EAAQK,KAAK2B,YAAc,EAC3BhC,EAAQiC,GAAG,eAAe,WACrB3D,EAAK4D,SACN5D,EAAK6D,eAIPnC,EAAQY,MAAMa,KAAK,OAAO,GAC1BzB,EAAQiC,GAAG,oBAAqBb,EAAc1C,W,oBAOlD,WACEA,KAAKe,UAAU2C,eAAiB,IAChC1D,KAAKoB,SAASsC,eAAiB,GAC/B1D,KAAKqB,WAAWqC,eAAiB,M,uCAInC,SAA0BC,GACxB/D,EAAK6D,aAAeE,EAAUF,aAC9B7D,EAAK4D,QAAUG,EAAUC,c,+BAG3B,WACkB,IAAIX,IAAOY,MAAMjE,GAAjC,IACIkE,EAAS,CACXC,KAAMd,IAAOe,KACbC,OAAQ,gBACRC,UAAU,EACVC,gBAAiB,yBACjBC,MAAO1D,OAAOC,WACd0D,OAAQ3D,OAAOG,YACfU,QAAS,CACL+C,QAAS,SACTC,OAAQ,CACJC,QAAS,CAAE1C,EAAG,KACd2C,OAAO,IAGfC,MAAO,CACLC,QAAS3E,KAAK2E,QACdxC,OAAQnC,KAAKmC,OACbyC,OAAQ5E,KAAK4E,SAMnBhF,EAAO,IAAIqD,IAAO4B,KAAKf,GACvBrC,QAAQC,IAAI9B,GACZA,EAAK6D,aAAezD,KAAKF,MAAM2D,aAC/B7D,EAAK4D,QAAUxD,KAAKF,MAAM8D,c,oBAMxB,WACE,OACE,yBAASkB,GAAG,sB,GA7JOC,aEqCVC,E,kDAvCb,WAAYlF,GAAQ,IAAD,8BACnB,cAAMA,IACDC,MAAQ,CACXkF,SAAU,GACVC,SAAU,IAEZ,EAAKC,eAAiB,EAAKA,eAAeC,KAApB,gBACtB,EAAKC,eAAiB,EAAKA,eAAeD,KAApB,gBAPH,E,kDAWrB,SAAeE,GACbtF,KAAKuF,SAAS,CAACN,SAAUK,EAAME,OAAOC,U,4BAGxC,SAAeH,GACbtF,KAAKuF,SAAS,CAACL,SAAUI,EAAME,OAAOC,U,oBAItC,WAAU,IAAD,OACP,OACE,sBAAKC,UAAU,QAAf,UAEE,yCACA,uBAAOD,MAAOzF,KAAKD,MAAMkF,SAAUU,SAAU3F,KAAKmF,iBAClD,uBACA,yCACA,uBAAOpB,KAAK,WAAW0B,MAAOzF,KAAKD,MAAMmF,SAAUS,SAAU3F,KAAKqF,iBAClE,uBAAK,uBACL,wBAAQK,UAAU,4BAA4BE,QAAS,kBAAM,EAAK9F,MAAM+F,MAAM,EAAK9F,MAAMkF,SAAU,EAAKlF,MAAMmF,WAA9G,mBACA,qBAAKQ,UAAU,YACf,wBAAQA,UAAU,4BAA4BE,QAAS,kBAAM,EAAK9F,MAAMgG,SAAS,EAAK/F,MAAMkF,SAAU,EAAKlF,MAAMmF,WAAjH,6B,GAjCYH,aCqBLgB,E,4JAnBb,WAAU,IAAD,OACP,OACE,sBAAKL,UAAU,QAAf,UAEE,yCAAY1F,KAAKF,MAAMmF,SAAvB,OACA,iDACA,+BAAKjF,KAAKF,MAAMkG,QAAhB,UAEA,wBAAQJ,QAAS,kBAAM,EAAK9F,MAAMmG,aAAa,IAAIP,UAAU,4BAA7D,oBACA,qBAAKA,UAAU,YACf,wBAAQE,QAAS,kBAAM,EAAK9F,MAAMmG,aAAa,IAAIP,UAAU,4BAA7D,sBACA,uBAAK,uBAAK,uBAAK,uBACf,wBAAQE,QAAS5F,KAAKF,MAAMoG,SAAUR,UAAU,4BAAhD,8B,GAbcX,aCwBPoB,E,4JAvBb,WAAU,IAAD,OACP,OACE,sBAAKT,UAAU,QAAf,UAEE,yCAAY1F,KAAKF,MAAMmF,SAAvB,OACA,kDAAqBjF,KAAKF,MAAMkG,WAChC,uBAAK,uBACL,uCACA,uBAAOP,MAAOzF,KAAKF,MAAMsG,OAAQT,SAAU3F,KAAKF,MAAMuG,aAActC,KAAK,WACzE,uBAAK,uBACL,mBAAGuC,MAAO,CAACC,QAAS,QAApB,yBACA,uBAAOd,MAAOzF,KAAKF,MAAM0G,WAAYb,SAAU3F,KAAKF,MAAM2G,UAAWH,MAAO,CAAClC,MAAO,OAAOmC,QAAS,UACpG,uBAAK,uBACL,wBAAQX,QAAS,kBAAM,EAAK9F,MAAMmG,aAAa,IAAIP,UAAU,4BAA7D,kBACA,qBAAKA,UAAU,YACf,wBAAQE,QAAS5F,KAAKF,MAAM4G,MAAOhB,UAAU,4BAA7C,oBACA,uBAAK,8B,GAjBOX,aCwBL4B,E,4JAvBb,WAAU,IAAD,OACP,OACE,sBAAKjB,UAAU,QAAf,UAEE,yCAAY1F,KAAKF,MAAMmF,SAAvB,OACA,kDAAqBjF,KAAKF,MAAMkG,WAChC,uBAAK,uBACL,uCACA,uBAAOP,MAAOzF,KAAKF,MAAMsG,OAAQT,SAAU3F,KAAKF,MAAMuG,aAActC,KAAK,WACzE,uBAAK,uBACL,kDACA,uBAAO0B,MAAOzF,KAAKF,MAAM8G,SAAUjB,SAAU3F,KAAKF,MAAM+G,gBACxD,uBAAK,uBACL,wBAAQjB,QAAS,kBAAM,EAAK9F,MAAMmG,aAAa,IAAIP,UAAU,4BAA7D,kBACA,qBAAKA,UAAU,YACf,wBAAQE,QAAS5F,KAAKF,MAAMgH,QAASpB,UAAU,4BAA/C,sBACA,uBAAK,8B,GAjBSX,aCmBPgC,E,4JAlBb,WAAU,IAAD,OACP,OACE,sBAAKrB,UAAU,OAAOY,MAAO,CAACU,SAAU,WAAYC,KAAM,MAAOC,OAAQ,MAAO/C,gBAAiB,YAAaC,MAAO,SAArH,UAEE,qBAAKkC,MAAO,CAACjC,OAAQ,QAAS8C,UAAW,OAAQC,SAAU,OAAQC,aAAc,cAAjF,SACCrH,KAAKF,MAAMwH,YAAYC,KAAI,SAACC,GAAO,OAAO,8BAAIA,EAAEC,OAAN,KAAgBD,EAAEE,gBAE7D,uBACAjC,MAAOzF,KAAKF,MAAM6H,YAClBhC,SAAU3F,KAAKF,MAAM8H,WACrBC,WAAa,SAACC,GAAoB,UAAVA,EAAE1F,KAAiB,EAAKtC,MAAMiI,eACtDzB,MAAO,CAACU,SAAU,WAAYE,OAAQ,MAAO9C,MAAO,gB,GAZzCW,a,kBCsBJiD,EAxBD,IAAIC,SAAQ,SAASC,EAASC,GAE1CzH,OAAO0H,iBAAiB,QAAQ,WAC9B,IAAIC,EAAU,GACVC,EAAO5H,OAAO4H,KAGlB,GAAoB,qBAATA,EAETA,EAAO,IAAIC,IAAKD,EAAKE,iBACrBH,EAAQC,KAAOA,EACf7G,QAAQC,IAAI,2BACZwG,EAAQG,OACH,CAEL,IAAII,EAAW,IAAIF,IAAKG,UAAUC,aAAa,iDAC/CL,EAAO,IAAIC,IAAKE,GAChBJ,EAAQC,KAAOA,EACf7G,QAAQC,IAAI,gDACZwG,EAAQG,U,iBCRRO,EAAY,6BACZC,E,MAASC,GAAWF,GAGpBG,EAAM,CAAC,CAAE,UAAY,EAAO,OAAU,CAAC,CAAE,KAAQ,SAAU,KAAQ,WAAa,CAAE,KAAQ,OAAQ,KAAQ,WAAa,CAAE,KAAQ,cAAe,KAAQ,WAAa,CAAE,KAAQ,aAAc,KAAQ,YAAc,KAAQ,WAAY,QAAW,CAAC,CAAE,KAAQ,UAAW,KAAQ,SAAW,SAAW,EAAO,gBAAmB,aAAc,KAAQ,YAAc,CAAE,UAAY,EAAM,OAAU,CAAC,CAAE,KAAQ,GAAI,KAAQ,YAAc,KAAQ,iBAAkB,QAAW,CAAC,CAAE,KAAQ,GAAI,KAAQ,YAAc,SAAW,EAAO,gBAAmB,OAAQ,KAAQ,YAAc,CAAE,UAAY,EAAO,OAAU,CAAC,CAAE,KAAQ,SAAU,KAAQ,YAAc,KAAQ,cAAe,QAAW,CAAC,CAAE,KAAQ,UAAW,KAAQ,SAAW,SAAW,EAAO,gBAAmB,aAAc,KAAQ,YAAc,CAAE,UAAY,EAAO,OAAU,CAAC,CAAE,KAAQ,OAAQ,KAAQ,YAAc,KAAQ,UAAW,QAAW,CAAC,CAAE,KAAQ,UAAW,KAAQ,SAAW,SAAW,EAAM,gBAAmB,UAAW,KAAQ,YAAc,CAAE,UAAY,EAAM,OAAU,GAAI,KAAQ,QAAS,QAAW,CAAC,CAAE,KAAQ,GAAI,KAAQ,YAAc,SAAW,EAAO,gBAAmB,OAAQ,KAAQ,YAAc,CAAE,OAAU,GAAI,SAAW,EAAM,gBAAmB,UAAW,KAAQ,gBAGntCC,E,kDACJ,WAAYlJ,GAAQ,IAAD,8BACjB,cAAMA,IACDC,MAAQ,CACXuI,KAAM,KACNW,YAAa,GACbhE,SAAU,GACVC,SAAU,GACVgE,UAAW,GACXtC,SAAU,GACVuC,WAAY,GACZ/G,IAAK,KACLgH,UAAW,EACXpD,QAAS,EACTqD,MAAO,EACPzF,aAAa,EACb0F,UAAU,EACVC,aAAc,EACdnD,OAAQ,EACRkB,YAAa,CAAC,CAAEG,OAAQ,KAAMC,QAAS,6BACvCC,YAAa,IAGf,EAAK9B,MAAQ,EAAKA,MAAMT,KAAX,gBACb,EAAKU,SAAW,EAAKA,SAASV,KAAd,gBAChB,EAAKoE,WAAa,EAAKA,WAAWpE,KAAhB,gBAClB,EAAKa,aAAe,EAAKA,aAAab,KAAlB,gBACpB,EAAKqB,UAAY,EAAKA,UAAUrB,KAAf,gBACjB,EAAKiB,aAAe,EAAKA,aAAajB,KAAlB,gBACpB,EAAKyB,cAAgB,EAAKA,cAAczB,KAAnB,gBACrB,EAAKqE,iBAAmB,EAAKA,iBAAiBrE,KAAtB,gBACxB,EAAKc,SAAW,EAAKA,SAASd,KAAd,gBAChB,EAAKsE,SAAW,EAAKA,SAAStE,KAAd,gBAChB,EAAK2C,YAAc,EAAKA,YAAY3C,KAAjB,gBACnB,EAAKsB,MAAQ,EAAKA,MAAMtB,KAAX,gBACb,EAAK0B,QAAU,EAAKA,QAAQ1B,KAAb,gBACf,EAAK3B,aAAe,EAAKA,aAAa2B,KAAlB,gBAnCH,E,qDAsCnB,WAAqB,IAAD,OACduE,EAAO3J,KAEX6I,EAAOtF,GAAG,WAAW,WACnB9B,QAAQC,IAAI,aACZiI,EAAKpE,SAAS,CAAE2D,UAAWL,EAAO/D,QAEpC+D,EAAOtF,GAAG,OAAO,SAAAmE,GACfjG,QAAQC,IAAIgG,GACZiC,EAAKpE,SAAS,CAAE6D,UAAW1B,EAAQkC,WAErCf,EAAOtF,GAAG,OAAO,SAAAmE,GACfjG,QAAQC,IAAIgG,GACZiC,EAAKpE,SAAS,CAAE+D,UAAU,OAE5BT,EAAOtF,GAAG,gBAAgB,SAAAmE,GACxBjG,QAAQC,IAAIgG,GACZiC,EAAKH,gBAEPX,EAAOtF,GAAG,QAAQ,SAAAmE,GAChBjG,QAAQC,IAAIgG,GACZ,IAAImC,EAAMF,EAAK5J,MAAMuH,YACrBuC,EAAIC,KAAK,CAAErC,OAAQC,EAAQD,OAAQC,QAASA,EAAQA,UACpDiC,EAAKpE,SAAS,CAAE+B,YAAauC,OAG/B7B,EAAQ+B,MAAK,SAAA1B,GACX,EAAK9C,SAAS,CAAE+C,KAAMD,EAAQC,OAK9BD,EAAQC,KAAK0B,IAAIC,aAAY,SAACC,EAAOC,GAInC,GAHIA,GAA+B,GAAnBA,EAASC,QACvB,EAAK7E,SAAS,CAAEqB,SAAUuD,EAAS,KAEjCE,aAAaC,QAAQ,kBAAoBD,aAAaC,QAAQ,iBAAiBF,OAAS,GAAI,CAC9F,IAAIG,EAAKF,aAAaC,QAAQ,iBAC1BE,EAAIH,aAAaC,QAAQ,cACzBE,EAAEJ,OAAS,KACbI,EAAIA,EAAEC,OAAO,EAAGD,EAAEJ,OAAS,IAE7B,EAAK7E,SAAS,CAAEqB,SAAU2D,EAAIG,KAAMF,IACpC,IAAI3I,EAAIwG,EAAQC,KAAK0B,IAAIG,SAASQ,oBAAoBN,aAAaC,QAAQ,eAE3E7I,QAAQC,IAAIG,GACZJ,QAAQC,IAAI2G,EAAQC,KAAK0B,IAAIG,SAASS,YAEvCC,OAAM,WAAQpJ,QAAQC,IAAI,+B,sBAIjC,SAASuD,EAAUC,GAAW,IAAD,OAC3BzD,QAAQC,IAAI,kBACZoJ,MAAMlC,EAAY,YAChB,CACEmC,OAAQ,OACRC,QAAS,CACP,OAAU,mBACV,eAAgB,oBAElBrJ,KAAMsJ,KAAKC,UAAU,CACnB,SAAYjG,EACZ,SAAYC,MAEb6E,MAAK,SAAAoB,GAAQ,OAAIA,EAASC,UAC5BrB,MAAK,SAAAsB,GACe,MAAfA,EAAKC,OACP,EAAKxL,MAAMyL,MAAMC,KAAKH,EAAKC,QAG3B,EAAKzF,MAAMZ,EAAUC,MAEtB2F,OAAM,SAAUY,GACjBhK,QAAQC,IAAI+J,Q,mBAIlB,SAAMxG,EAAUC,GAAW,IAAD,OACxB4F,MAAMlC,EAAY,SAChB,CACEmC,OAAQ,OACRC,QAAS,CACP,OAAU,mBACV,eAAgB,oBAGlBrJ,KAAMsJ,KAAKC,UAAU,CACnB,SAAYjG,EACZ,SAAYC,EACZ,UAAalF,KAAKD,MAAMmJ,cAEzBa,MAAK,SAAAoB,GAAQ,OAAIA,EAASC,UAC5BrB,MAAK,SAAAsB,GACJ,GAAmB,MAAfA,EAAKC,OACP,EAAKxL,MAAMyL,MAAMC,KAAKH,EAAKC,YAExB,CACH,IAAII,EAAW,EAAK3L,MAAMuI,KAAKqD,MAAMC,aAAa3G,GAClD,EAAKM,SAAS,CAAE0D,YAAayC,EAAUzG,SAAUA,EAAUC,SAAUA,IAAY,WAC/ElF,KAAKwJ,oBAIRqB,OAAM,SAAUY,GACjBhK,QAAQC,IAAI+J,Q,+DAIlB,uCAAAI,EAAA,6DACMpD,EAAWqD,IAAOC,mBAAmB,WACrCC,EAAW,IAAIF,IAAOG,SAAS,6CAA8ClD,EAAKN,GAFxF,SAG2BuD,EAASE,eAAelM,KAAKD,MAAMkJ,aAH9D,OAGMkD,EAHN,OAIE1K,QAAQC,IAA6C,IAAzCoK,IAAOH,MAAMS,YAAYD,IACrCnM,KAAKuF,SAAS,CAAES,QAASqG,QAAiD,IAAzCP,IAAOH,MAAMS,YAAYD,IAAuBG,QAAQ,MAEzFxB,MAAMlC,EAAY,YAChB,CACEmC,OAAQ,OACRC,QAAS,CACP,OAAU,mBACV,eAAgB,oBAElBrJ,KAAMsJ,KAAKC,UAAU,CACnB,SAAYlL,KAAKD,MAAMkJ,YACvB,UAAajJ,KAAKD,MAAMmJ,cAEzBa,MAAK,SAAAoB,GAAQ,OAAIA,EAASC,UAC5BrB,MAAK,SAAAsB,GACe,MAAfA,EAAKC,OACP7J,QAAQC,IAAI2J,EAAKC,SAGjB7J,QAAQC,IAAI2J,EAAKhC,OACjB,EAAK9D,SAAS,CAAE8D,MAAOgD,OAAOhB,EAAKhC,aAEpCwB,OAAM,SAAUY,GACjBhK,QAAQC,IAAI+J,MA5BlB,gD,gFAiCA,WAAgB,IAAD,OACbhK,QAAQC,IAAI,WACZoJ,MAAMlC,EAAY,SAChB,CACEmC,OAAQ,OACRC,QAAS,CACP,OAAU,mBACV,eAAgB,oBAElBrJ,KAAMsJ,KAAKC,UAAU,CACnB,SAAYlL,KAAKD,MAAMkJ,YACvB,IAAOjJ,KAAKD,MAAMqC,IAClB,UAAapC,KAAKD,MAAMmJ,cAGzBa,MAAK,SAAAoB,GAAQ,OAAIA,EAASC,UAC5BrB,MAAK,SAAAsB,GACe,UAAfA,EAAKC,QACP,EAAKxL,MAAMyL,MAAMC,KAAK,QACtB,EAAKjG,SAAS,CAAE8D,MAAO,EAAKtJ,MAAMsJ,MAAQ,OAEpB,SAAfgC,EAAKC,QACZ,EAAKxL,MAAMyL,MAAMC,KAAK,OACtB,EAAKjG,SAAS,CAAE8D,MAAO,EAAKtJ,MAAMsJ,MAAQ,MAG1C,EAAKvJ,MAAMyL,MAAMC,KAAKH,EAAKC,WAE5BT,OAAM,SAAUY,GACjBhK,QAAQC,IAAI+J,Q,sBAIlB,WAAY,IAAD,OACTX,MAAMlC,EAAY,YAChB,CACEmC,OAAQ,OACRC,QAAS,CACP,OAAU,mBACV,eAAgB,oBAElBrJ,KAAMsJ,KAAKC,UAAU,CACnB,SAAYlL,KAAKD,MAAMkJ,YACvB,IAAOjJ,KAAKD,MAAMqC,IAClB,UAAapC,KAAKD,MAAMmJ,cAGzBa,MAAK,SAAAoB,GAAQ,OAAIA,EAASC,UAC5BrB,MAAK,SAAAsB,GACe,MAAfA,EAAKC,OACP,EAAKxL,MAAMyL,MAAMC,KAAKH,EAAKC,QAG3B,EAAK/F,SAAS,CAAEnD,IAAKiJ,EAAKjJ,IAAKwB,aAAa,OAE7CiH,OAAM,SAAUY,GACjBhK,QAAQC,IAAI+J,Q,0DAIlB,oCAAAI,EAAA,6DAGMU,EAAe,IAAIvM,KAAKD,MAAMuI,KAAK0B,IAAIiC,SAASlD,EAAK,8CAH3D,SAIsBrI,OAAO8L,SAASC,QAAQ,CAAE1B,OAAQ,wBAJxD,cAIM2B,EAJN,OAKMtG,EAAS0F,IAAOH,MAAMgB,WAAW3M,KAAKD,MAAMqG,QAAQwG,WACpDC,EAAY,CACdC,SAAU,KACVC,KAAML,EAAQ,GACdjH,MAAOW,GAEL4G,EAAUhN,KACduM,EAAaU,QAAQC,QAAQlN,KAAKD,MAAMkJ,aAAakE,KAAKN,GAAWtJ,GAAG,mBAAmB,WACzFyJ,EAAQlN,MAAMyL,MAAMC,KAAK,4BACzBwB,EAAQzH,SAAS,CAAEgE,aAAc,OAElChG,GAAG,WAAU,SAAC6J,GACbJ,EAAQlN,MAAMyL,MAAMC,KAAK,qBACzBwB,EAAQxD,gBAlBZ,mE,2EAuBA,WAAW,IAAD,OACRsB,MAAMlC,EAAY,YAChB,CACEmC,OAAQ,OACRC,QAAS,CACP,OAAU,mBACV,eAAgB,oBAElBrJ,KAAMsJ,KAAKC,UAAU,CACnB,IAAOlL,KAAKD,MAAMqC,IAClB,SAAYpC,KAAKD,MAAMkJ,YACvB,SAAYjJ,KAAKD,MAAMmF,SACvB,QAAWlF,KAAKD,MAAM6G,SACtB,UAAa5G,KAAKD,MAAMmJ,UACxB,OAAUlJ,KAAKD,MAAMqG,WAEtB2D,MAAK,SAAAoB,GAAQ,OAAIA,EAASC,UAC5BrB,MAAK,SAAAsB,GACe,MAAfA,EAAKC,OACP,EAAKxL,MAAMyL,MAAMC,KAAKH,EAAKC,SAG3B,EAAKxL,MAAMyL,MAAMC,KAAK,wBACtB,EAAKjG,SAAS,CAAEgE,aAAc,QAE/BsB,OAAM,SAAUY,GACjBhK,QAAQC,IAAI+J,Q,sBAIlB,WAAY,IAAD,OACTX,MAAMlC,EAAY,YAChB,CACEmC,OAAQ,OACRC,QAAS,CACP,OAAU,mBACV,eAAgB,oBAElBrJ,KAAMsJ,KAAKC,UAAU,CACnB,SAAYlL,KAAKD,MAAMkJ,YACvB,IAAOjJ,KAAKD,MAAMqC,IAClB,UAAapC,KAAKD,MAAMmJ,cAEzBa,MAAK,SAAAoB,GAAQ,OAAIA,EAASC,UAC5BrB,MAAK,SAAAsB,GACe,MAAfA,EAAKC,OACP,EAAKxL,MAAMyL,MAAMC,KAAKH,EAAKC,SAG3B,EAAK/F,SAAS,CAAE3B,aAAa,IAC7B,EAAK4F,iBAENqB,OAAM,SAAUY,GACjBhK,QAAQC,IAAI+J,Q,yBAIlB,WACE,IAAIhE,EAAiC,IAAvBzH,KAAKD,MAAMkF,SAAiB,QAAUjF,KAAKD,MAAMkF,SAC/D4D,EAAOwE,KAAK,OAAQ,CAAE5F,OAAQA,EAAQC,QAAS1H,KAAKD,MAAM4H,cAC1D3H,KAAKuF,SAAS,CAAEoC,YAAa,O,8BAI/B,SAAiBrC,GACftF,KAAKuF,SAAS,CAAEoC,YAAarC,EAAME,OAAOC,U,0BAG5C,SAAa6H,GACXtN,KAAKuF,SAAS,CAAEgE,aAAc+D,M,uBAGhC,SAAUhI,GACRtF,KAAKuF,SAAS,CAAE4D,WAAY7D,EAAME,OAAOC,U,0BAG3C,SAAaH,GACXtF,KAAKuF,SAAS,CAAEa,OAAQd,EAAME,OAAOC,U,2BAGvC,SAAcH,GACZtF,KAAKuF,SAAS,CAAEqB,SAAUtB,EAAME,OAAOC,U,oBAGzC,WACE,IAAM8H,EAAgB,CACpB,cAAC,EAAD,CACErH,SAAUlG,KAAKkG,SACfjB,SAAUjF,KAAKD,MAAMkF,SACrBe,QAAShG,KAAKD,MAAMiG,QAAUhG,KAAKD,MAAMsJ,MACzCpD,aAAcjG,KAAKiG,eAErB,cAAC,EAAD,CACEC,SAAUlG,KAAKkG,SACfjB,SAAUjF,KAAKD,MAAMkF,SACrBe,QAAShG,KAAKD,MAAMiG,QAAUhG,KAAKD,MAAMsJ,MACzCpD,aAAcjG,KAAKiG,aACnBI,aAAcrG,KAAKqG,aACnBD,OAAQpG,KAAKD,MAAMqG,OACnB+C,WAAYnJ,KAAKD,MAAMoJ,WACvB1C,UAAWzG,KAAKyG,UAChBC,MAAO1G,KAAK0G,QAEd,cAAC,EAAD,CACER,SAAUlG,KAAKkG,SACfjB,SAAUjF,KAAKD,MAAMkF,SACrBe,QAAShG,KAAKD,MAAMiG,QAAUhG,KAAKD,MAAMsJ,MACzCpD,aAAcjG,KAAKiG,aACnBW,SAAU5G,KAAKD,MAAM6G,SACrBP,aAAcrG,KAAKqG,aACnBQ,cAAe7G,KAAK6G,cACpBT,OAAQpG,KAAKD,MAAMqG,OACnBU,QAAS9G,KAAK8G,WAGlB,OACE,sBAAKpB,UAAU,OAAf,UACE,sBAAKA,UAAU,QAAf,UACE,8CAC2B,IAA1B1F,KAAKD,MAAMkJ,YAAoB,cAAC,EAAD,CAAOpD,MAAO7F,KAAK6F,MAAOC,SAAU9F,KAAK8F,WAAgB9F,KAAKD,MAAM6D,YAAc,KAAO2J,EAAcvN,KAAKD,MAAMwJ,iBAEpJ,cAAC,EAAD,CAAYH,UAAWpJ,KAAKD,MAAMqJ,UAAW3F,aAAczD,KAAKyD,aAAcG,YAAa5D,KAAKD,MAAM6D,cACtG,sBAAK0C,MAAO,CAAEU,SAAU,WAAYC,KAAM,MAAOuG,IAAK,MAAOrJ,gBAAiB,YAAasJ,aAAc,MAAOC,OAAQ,OAAQC,MAAO,QAASC,QAAS,OAAzJ,UACE,6BAAK5N,KAAKD,MAAMqJ,YADlB,aAGA,sBAAK9C,MAAO,CAAEU,SAAU,WAAY6G,MAAO,MAAOL,IAAK,MAAOrJ,gBAAiB,YAAasJ,aAAc,MAAOC,OAAQ,OAAQC,MAAO,QAASC,QAAS,OAA1J,oBAEA,6BAAK5N,KAAKD,MAAMiG,QAAUhG,KAAKD,MAAMsJ,WACpCrJ,KAAKD,MAAM6D,YACV,qBAAKgC,QAAS5F,KAAK0J,SAAUpD,MAAO,CAAEU,SAAU,WAAY6G,MAAO,MAAO3G,OAAQ,MAAO/C,gBAAiB,YAAasJ,aAAc,MAAOC,OAAQ,OAAQC,MAAO,QAASC,QAAS,OAArL,uBAEE,KAEF5N,KAAKD,MAAM6D,aACX,cAAC,EAAD,CAAM0D,YAAatH,KAAKD,MAAMuH,YAAaK,YAAa3H,KAAKD,MAAM4H,YAAaC,WAAY5H,KAAKyJ,iBAAkB1B,YAAa/H,KAAK+H,qB,GA9Y5HhD,aAqZJ+I,gBAAY9E,GCjZZ+E,E,4JAhBb,WACE,OACE,qBAAKrI,UAAU,MAAf,SACA,cAAC,IAAD,UACA,gCACE,cAACsI,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,IAAIC,OAAQ,SAACrO,GAAD,OAAW,cAAC,EAAD,eAAUA,OAEnD,cAACkO,EAAA,EAAD,CAAOE,KAAK,YAAYC,OAAQ,SAACrO,GAAD,OAAW,cAAC,EAAD,eAAgBA,kB,GARjDiF,a,SCKEqJ,QACW,cAA7B1N,OAAO2N,SAASC,UAEe,UAA7B5N,OAAO2N,SAASC,UAEhB5N,OAAO2N,SAASC,SAASC,MACvB,2DCHNC,IAASL,OAAO,cAAC,IAAD,yBAAeM,SAAUC,KAPzB,CACd1H,SAAU,gBACV2H,QAAS,IACTC,OAAQ,OACRC,WAAY,UAGE,aAAqD,cAAC,EAAD,OAAyBC,SAASC,eAAe,SDkHhH,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMnF,MAAK,SAAAoF,GACjCA,EAAaC,kB","file":"static/js/main.f568f97d.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport Phaser from 'phaser';\r\nimport './App.css';\r\n\r\nvar game;\r\n\r\nclass GameScreen extends Component {\r\n  constructor(props) {\r\n  super(props);\r\n  this.state = {\r\n    game: null,\r\n\r\n  }\r\n\r\n  //this.create = this.create.bind(this);\r\n}\r\n\r\npreload(){\r\n  this.load.image('background', './phaser/Background.png');\r\n  //this.load.image('balloon', './phaser/Balloon Pop.png');\r\n  this.load.spritesheet('balloon',\r\n    './phaser/Balloon Pop.png',\r\n    { frameWidth: 390, frameHeight: 481 }\r\n);\r\n  this.load.image('cloudBack', './phaser/Clouds_03_Back.png');\r\n  this.load.image('cloudMid', './phaser/Clouds_02_Middle.png');\r\n  this.load.image('cloudFront', './phaser/Clouds_01_Front.png');\r\n}\r\n\r\ncreate() {\r\n  //console.log(game);\r\n  //game.stage.backgroundColor = \"#4488AA\";\r\n\r\n\r\n\r\n  let bg = this.add.sprite(0, 0, 'background');\r\n  bg.displayWidth = window.innerWidth;\r\n  bg.displayHeight = window.innerHeight;\r\n  bg.setOrigin(0,0);\r\n\r\n  this.cloudBack = this.add.tileSprite(window.innerWidth /2, window.innerHeight/2, window.innerWidth, window.innerHeight, 'cloudBack');\r\n  this.cloudBack.setScale(1);\r\n  this.cloudBack.tileScaleX = 0.5;\r\n  this.cloudBack.tileScaleY = 0.6;\r\n\r\n  this.cloudMid = this.add.tileSprite(window.innerWidth /2, window.innerHeight/2, window.innerWidth, window.innerHeight, 'cloudMid');\r\n  this.cloudMid.setScale(1);\r\n  this.cloudMid.tileScaleX = 0.5;\r\n  this.cloudMid.tileScaleY = 0.6;\r\n\r\n  this.cloudFront = this.add.tileSprite(window.innerWidth /2, window.innerHeight/2, window.innerWidth, window.innerHeight, 'cloudFront');\r\n  this.cloudFront.setScale(1);\r\n  this.cloudFront.tileScaleX = 0.5;\r\n  this.cloudFront.tileScaleY = 0.6;\r\n\r\n  let balloon = this.physics.add.sprite(100, 100, 'balloon').setInteractive();\r\n  balloon.displayWidth = 140;\r\n  balloon.displayHeight = 200;\r\n  console.log(balloon)\r\n  //balloon.body.debugShowBody(true)\r\n  balloon.body.maxVelocity = {x: 3000, y: 3000};\r\n  balloon.setBounce(1);\r\n  balloon.setCollideWorldBounds(true);\r\n  balloon.body.setGravityY(50);\r\n\r\n  this.anims.create({\r\n    key: 'idle',\r\n    frames: this.anims.generateFrameNumbers('balloon', { start: 0, end: 0 }),\r\n    frameRate: 64\r\n    //repeat: -1\r\n  });\r\n\r\n  this.anims.create({\r\n    key: 'pop',\r\n    frames: this.anims.generateFrameNumbers('balloon', { start: 0, end: 16 }),\r\n    frameRate: 96\r\n    //repeat: -1\r\n  });\r\n\r\n  var animComplete = (animation, frame) =>\r\n  {\r\n      if(animation.key == \"pop\"){\r\n        /*\r\n        this.tweens.add({\r\n            targets: balloon,\r\n            duration: 1000,\r\n            alpha: 0\r\n        });*/\r\n        balloon.x = Math.random() * window.innerWidth;\r\n        balloon.y = 100;\r\n        balloon.anims.play(\"idle\", true);\r\n      }\r\n\r\n  }\r\n\r\n  var velocityFromRotation = this.physics.velocityFromRotation;\r\n  var velocity = new Phaser.Math.Vector2();\r\n\r\n  balloon.setVelocity(Math.floor(Math.random() * 400 - 400) , Math.floor(Math.random() * 400 - 400));\r\n  balloon.body.angularVelocity = 300;\r\n  balloon.body.angularDrag = 0;\r\n  balloon.on('pointerdown', function () {\r\n    if(game.started){\r\n      game.clickBalloon();\r\n      //balloon.anims.play(\"pop\", true);\r\n      //balloon.on('animationcomplete', animComplete, this);\r\n    }\r\n    balloon.anims.play(\"pop\", true);\r\n    balloon.on('animationcomplete', animComplete, this);\r\n\r\n});\r\n\r\n}\r\n\r\n\r\nupdate(){\r\n  this.cloudBack.tilePositionX -= 0.15;\r\n  this.cloudMid.tilePositionX += 0.3;\r\n  this.cloudFront.tilePositionX -= 0.75;\r\n}\r\n\r\n\r\ncomponentWillReceiveProps(nextProps){\r\n  game.clickBalloon = nextProps.clickBalloon;\r\n  game.started = nextProps.gameStarted;\r\n}\r\n\r\ncomponentDidMount() {\r\n  let gameScene = new Phaser.Scene(game);\r\n  var config = {\r\n    type: Phaser.AUTO,\r\n    parent: 'phaser-parent',\r\n    pixelArt: false,\r\n    backgroundColor: 'rgba(176, 55, 110,0.5)',\r\n    width: window.innerWidth,\r\n    height: window.innerHeight,\r\n    physics: {\r\n        default: 'arcade',\r\n        arcade: {\r\n            gravity: { y: 300 },\r\n            debug: false\r\n        }\r\n    },\r\n    scene: {\r\n      preload: this.preload,\r\n      create: this.create,\r\n      update: this.update\r\n    }\r\n};\r\n\r\n\r\n\r\ngame = new Phaser.Game(config);\r\nconsole.log(game)\r\ngame.clickBalloon = this.props.clickBalloon;\r\ngame.started = this.props.gameStarted;\r\n\r\n\r\n}\r\n\r\n\r\n  render() {\r\n    return (\r\n      <section id=\"phaser-parent\">\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default GameScreen;\r\n","export default __webpack_public_path__ + \"static/media/logo.103b5fa1.svg\";","import React, { Component } from 'react';\r\nimport './App.css';\r\n\r\nclass Login extends Component {\r\n  constructor(props) {\r\n  super(props);\r\n  this.state = {\r\n    username: \"\",\r\n    password: \"\",\r\n  }\r\n  this.handleUsername = this.handleUsername.bind(this)\r\n  this.handlePassword = this.handlePassword.bind(this)\r\n  //this.create = this.create.bind(this);\r\n}\r\n\r\nhandleUsername(event){\r\n  this.setState({username: event.target.value})\r\n}\r\n\r\nhandlePassword(event){\r\n  this.setState({password: event.target.value})\r\n}\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"Login\">\r\n\r\n        <p>Username</p>\r\n        <input value={this.state.username} onChange={this.handleUsername}/>\r\n        <br/>\r\n        <p>Password</p>\r\n        <input type=\"password\" value={this.state.password} onChange={this.handlePassword}/>\r\n        <br/><br/>\r\n        <button className=\"midnight-blue-flat-button\" onClick={() => this.props.login(this.state.username, this.state.password)}>LOGIN</button>\r\n        <div className=\"divider\"/>\r\n        <button className=\"midnight-blue-flat-button\" onClick={() => this.props.register(this.state.username, this.state.password)}>REGISTER</button>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Login;\r\n","import React, { Component } from 'react';\r\nimport './App.css';\r\n\r\n\r\nclass Profile extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"Login\">\r\n\r\n        <p>Welcome {this.props.username}!</p>\r\n        <p>Current Balance:</p>\r\n        <h2>{this.props.balance}uETH</h2>\r\n\r\n        <button onClick={() => this.props.handlePanels(1)} className=\"midnight-blue-flat-button\">Top Up</button>\r\n        <div className=\"divider\"/>\r\n        <button onClick={() => this.props.handlePanels(2)} className=\"midnight-blue-flat-button\">Cash Out</button>\r\n        <br/><br/><br/><br/>\r\n        <button onClick={this.props.joinGame} className=\"midnight-blue-flat-button\">JOIN GAME</button>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Profile;\r\n","import React, { Component } from 'react';\r\nimport './App.css';\r\n\r\n\r\nclass TopUp extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"Login\">\r\n\r\n        <p>Welcome {this.props.username}!</p>\r\n        <p>Current Balance: {this.props.balance}</p>\r\n        <br/><br/>\r\n        <p>Amount</p>\r\n        <input value={this.props.amount} onChange={this.props.handleAmount} type=\"number\"/>\r\n        <br/><br/>\r\n        <p style={{display: \"none\"}}>Private Key</p>\r\n        <input value={this.props.privatekey} onChange={this.props.handleKey} style={{width: \"100%\",display: \"none\"}}/>\r\n        <br/><br/>\r\n        <button onClick={() => this.props.handlePanels(0)} className=\"midnight-blue-flat-button\">Back</button>\r\n        <div className=\"divider\"/>\r\n        <button onClick={this.props.topUp} className=\"midnight-blue-flat-button\">Top Up</button>\r\n        <br/><br/>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TopUp;\r\n","import React, { Component } from 'react';\r\nimport './App.css';\r\n\r\n\r\nclass CashOut extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"Login\">\r\n\r\n        <p>Welcome {this.props.username}!</p>\r\n        <p>Current Balance: {this.props.balance}</p>\r\n        <br/><br/>\r\n        <p>Amount</p>\r\n        <input value={this.props.amount} onChange={this.props.handleAmount} type=\"number\"/>\r\n        <br/><br/>\r\n        <p>Receiving Address</p>\r\n        <input value={this.props.coinbase} onChange={this.props.handleAddress}/>\r\n        <br/><br/>\r\n        <button onClick={() => this.props.handlePanels(0)} className=\"midnight-blue-flat-button\">Back</button>\r\n        <div className=\"divider\"/>\r\n        <button onClick={this.props.cashOut} className=\"midnight-blue-flat-button\">Cash Out</button>\r\n        <br/><br/>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CashOut;\r\n","import React, { Component } from 'react';\r\nimport './App.css';\r\n\r\n\r\nclass Chat extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"Chat\" style={{position: \"absolute\", left: \"0px\", bottom: \"0px\", backgroundColor: \"#00000052\", width: \"300px\"}}>\r\n\r\n        <div style={{height: \"150px\", textAlign: \"left\", overflow: \"auto\", overflowWrap: \"break-word\"}}>\r\n        {this.props.messageList.map((o) => {return(<p>{o.sender}: {o.message}</p>)})}\r\n        </div>\r\n        <input\r\n        value={this.props.chatMessage}\r\n        onChange={this.props.handleChat}\r\n        onKeyPress ={(e) => {if(e.key === 'Enter') this.props.sendMessage()}}\r\n        style={{position: \"relative\", bottom: \"0px\", width: \"85%\"}}/>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Chat;\r\n","import Web3 from 'web3'\r\n\r\nlet getWeb3 = new Promise(function(resolve, reject) {\r\n  // Wait for loading completion to avoid race conditions with web3 injection timing.\r\n  window.addEventListener('load', function() {\r\n    var results = {};\r\n    var web3 = window.web3\r\n\r\n    // Checking if Web3 has been injected by the browser (Mist/MetaMask)\r\n    if (typeof web3 !== 'undefined') {\r\n      // Use Mist/MetaMask's provider.\r\n      web3 = new Web3(web3.currentProvider)\r\n      results.web3 = web3;\r\n      console.log('Injected web3 detected.');\r\n      resolve(results)\r\n    } else {\r\n      // Fallback to localhost if no web3 injection. We've configured this to infura\r\n      var provider = new Web3.providers.HttpProvider('http://ropsten.infura.io/vKci4bjCOf3x7jLLQRWs')\r\n      web3 = new Web3(provider)\r\n      results.web3 = web3;\r\n      console.log('No web3 instance injected, using Local web3.');\r\n      resolve(results)\r\n      }\r\n  })\r\n});\r\n\r\nexport default getWeb3\r\n","import React, { Component } from 'react';\r\nimport { withAlert } from 'react-alert'\r\nimport GameScreen from './GameScreen';\r\nimport Login from './Login';\r\nimport Profile from './Profile';\r\nimport TopUp from './TopUp';\r\nimport CashOut from './CashOut';\r\nimport Chat from './Chat'\r\nimport './App.css';\r\nimport getWeb3 from './getWeb3';\r\nimport { ethers } from 'ethers';\r\nimport openSocket from 'socket.io-client';\r\n//const serverURL = \"http://localhost:5001/\"// local dev\r\nconst serverURL = \"http://54.93.124.179:5001/\"// server deploy\r\nconst socket = openSocket(serverURL);//, {transports: ['websocket', 'polling'], secure: false});\r\n\r\n\r\nconst abi = [{ \"constant\": false, \"inputs\": [{ \"name\": \"amount\", \"type\": \"uint256\" }, { \"name\": \"user\", \"type\": \"bytes32\" }, { \"name\": \"userAddress\", \"type\": \"address\" }, { \"name\": \"newBalance\", \"type\": \"uint256\" }], \"name\": \"withdraw\", \"outputs\": [{ \"name\": \"success\", \"type\": \"bool\" }], \"payable\": false, \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"constant\": true, \"inputs\": [{ \"name\": \"\", \"type\": \"bytes32\" }], \"name\": \"PlayerBalances\", \"outputs\": [{ \"name\": \"\", \"type\": \"uint256\" }], \"payable\": false, \"stateMutability\": \"view\", \"type\": \"function\" }, { \"constant\": false, \"inputs\": [{ \"name\": \"sender\", \"type\": \"address\" }], \"name\": \"changeAdmin\", \"outputs\": [{ \"name\": \"success\", \"type\": \"bool\" }], \"payable\": false, \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"constant\": false, \"inputs\": [{ \"name\": \"user\", \"type\": \"bytes32\" }], \"name\": \"deposit\", \"outputs\": [{ \"name\": \"success\", \"type\": \"bool\" }], \"payable\": true, \"stateMutability\": \"payable\", \"type\": \"function\" }, { \"constant\": true, \"inputs\": [], \"name\": \"admin\", \"outputs\": [{ \"name\": \"\", \"type\": \"address\" }], \"payable\": false, \"stateMutability\": \"view\", \"type\": \"function\" }, { \"inputs\": [], \"payable\": true, \"stateMutability\": \"payable\", \"type\": \"constructor\" }];\r\n\r\n\r\nclass Home extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      web3: null,\r\n      currentUser: \"\",\r\n      username: \"\",\r\n      password: \"\",\r\n      sessionId: \"\",\r\n      coinbase: \"\",\r\n      privateKey: \"\",\r\n      key: null,\r\n      userCount: 0,\r\n      balance: 0,\r\n      spent: 0,\r\n      gameStarted: false,\r\n      forcePop: false,\r\n      currentPanel: 0,\r\n      amount: 0,\r\n      messageList: [{ sender: \"GM\", message: \"Welcome to Balloon Game!\" }],\r\n      chatMessage: \"\",\r\n    }\r\n\r\n    this.login = this.login.bind(this)\r\n    this.register = this.register.bind(this)\r\n    this.getBalance = this.getBalance.bind(this)\r\n    this.handlePanels = this.handlePanels.bind(this)\r\n    this.handleKey = this.handleKey.bind(this)\r\n    this.handleAmount = this.handleAmount.bind(this)\r\n    this.handleAddress = this.handleAddress.bind(this)\r\n    this.handleMessageBox = this.handleMessageBox.bind(this)\r\n    this.joinGame = this.joinGame.bind(this)\r\n    this.quitGame = this.quitGame.bind(this)\r\n    this.sendMessage = this.sendMessage.bind(this)\r\n    this.topUp = this.topUp.bind(this)\r\n    this.cashOut = this.cashOut.bind(this)\r\n    this.clickBalloon = this.clickBalloon.bind(this)\r\n  }\r\n\r\n  componentDidMount() {\r\n    var that = this;\r\n\r\n    socket.on('connect', function () {\r\n      console.log(\"connected\")\r\n      that.setState({ sessionId: socket.id })\r\n    });\r\n    socket.on(\"ADD\", message => {\r\n      console.log(message);\r\n      that.setState({ userCount: message.count });\r\n    });\r\n    socket.on(\"POP\", message => {\r\n      console.log(message);\r\n      that.setState({ forcePop: true });\r\n    });\r\n    socket.on(\"CheckBalance\", message => {\r\n      console.log(message);\r\n      that.getBalance();\r\n    });\r\n    socket.on(\"CHAT\", message => {\r\n      console.log(message);\r\n      var msg = that.state.messageList;\r\n      msg.push({ sender: message.sender, message: message.message });\r\n      that.setState({ messageList: msg })\r\n    });\r\n\r\n    getWeb3.then(results => {\r\n      this.setState({ web3: results.web3 })\r\n      var that = this;\r\n\r\n\r\n\r\n      results.web3.eth.getAccounts((error, accounts) => {\r\n        if (accounts && accounts.length != 0) {\r\n          this.setState({ coinbase: accounts[0] })\r\n        }\r\n        if (localStorage.getItem('defaultWallet') && localStorage.getItem('defaultWallet').length > 30) {\r\n          var cb = localStorage.getItem('defaultWallet');\r\n          var k = localStorage.getItem('defaultKey')\r\n          if (k.length > 32) {\r\n            k = k.substr(2, k.length - 1)\r\n          }\r\n          this.setState({ coinbase: cb, pKey: k });\r\n          let x = results.web3.eth.accounts.privateKeyToAccount(localStorage.getItem('defaultKey'));\r\n          //console.log(results.web3.eth.accounts.wallet.add(x));\r\n          console.log(x)\r\n          console.log(results.web3.eth.accounts.wallet)\r\n        }\r\n      }).catch(() => { console.log('Error finding web3.') });\r\n    });\r\n  }\r\n\r\n  register(username, password) {\r\n    console.log(\"Registering...\")\r\n    fetch(serverURL + 'register/',\r\n      {\r\n        method: 'post',\r\n        headers: {\r\n          'Accept': 'application/json',\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          \"username\": username,\r\n          \"password\": password\r\n        })\r\n      }).then(response => response.json())\r\n      .then(data => {\r\n        if (data.status != \"Ok\") {\r\n          this.props.alert.show(data.status)\r\n        }\r\n        else {\r\n          this.login(username, password);\r\n        }\r\n      }).catch(function (err) {\r\n        console.log(err)\r\n      });\r\n  }\r\n\r\n  login(username, password) {\r\n    fetch(serverURL + 'login/',\r\n      {\r\n        method: 'post',\r\n        headers: {\r\n          'Accept': 'application/json',\r\n          'Content-Type': 'application/json',\r\n        },\r\n        //mode: \"no-cors\",\r\n        body: JSON.stringify({\r\n          \"username\": username,\r\n          \"password\": password,\r\n          \"sessionId\": this.state.sessionId\r\n        })\r\n      }).then(response => response.json())\r\n      .then(data => {\r\n        if (data.status != \"Ok\") {\r\n          this.props.alert.show(data.status)\r\n        }\r\n        else {\r\n          var userhash = this.state.web3.utils.soliditySha3(username);\r\n          this.setState({ currentUser: userhash, username: username, password: password }, function () {\r\n            this.getBalance();\r\n          })\r\n\r\n        }\r\n      }).catch(function (err) {\r\n        console.log(err)\r\n      });\r\n  }\r\n\r\n  async getBalance() {\r\n    let provider = ethers.getDefaultProvider('ropsten');\r\n    let contract = new ethers.Contract(\"0x7Af6faCB28061cFEb5f7D6538B4d63988C8AeE66\", abi, provider);\r\n    let currentValue = await contract.PlayerBalances(this.state.currentUser);\r\n    console.log(ethers.utils.formatEther(currentValue) * 10000)\r\n    this.setState({ balance: Number((ethers.utils.formatEther(currentValue) * 10000).toFixed(0)) })\r\n\r\n    fetch(serverURL + 'balances/',\r\n      {\r\n        method: 'post',\r\n        headers: {\r\n          'Accept': 'application/json',\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          \"username\": this.state.currentUser,\r\n          \"sessionId\": this.state.sessionId\r\n        })\r\n      }).then(response => response.json())\r\n      .then(data => {\r\n        if (data.status != \"Ok\") {\r\n          console.log(data.status)\r\n        }\r\n        else {\r\n          console.log(data.spent)\r\n          this.setState({ spent: Number(data.spent) });\r\n        }\r\n      }).catch(function (err) {\r\n        console.log(err)\r\n      });\r\n\r\n  }\r\n\r\n  clickBalloon() {\r\n    console.log(\"CLICKED\")\r\n    fetch(serverURL + 'click/',\r\n      {\r\n        method: 'post',\r\n        headers: {\r\n          'Accept': 'application/json',\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          \"username\": this.state.currentUser,\r\n          \"key\": this.state.key,\r\n          \"sessionId\": this.state.sessionId\r\n\r\n        })\r\n      }).then(response => response.json())\r\n      .then(data => {\r\n        if (data.status == \"Winner\") {\r\n          this.props.alert.show(\"+100\")\r\n          this.setState({ spent: this.state.spent + 100 });\r\n        }\r\n        else if (data.status == \"Loser\") {\r\n          this.props.alert.show(\"-10\")\r\n          this.setState({ spent: this.state.spent - 10 });\r\n        }\r\n        else {\r\n          this.props.alert.show(data.status)\r\n        }\r\n      }).catch(function (err) {\r\n        console.log(err)\r\n      });\r\n  }\r\n\r\n  joinGame() {\r\n    fetch(serverURL + 'joinGame/',\r\n      {\r\n        method: 'post',\r\n        headers: {\r\n          'Accept': 'application/json',\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          \"username\": this.state.currentUser,\r\n          \"key\": this.state.key,\r\n          \"sessionId\": this.state.sessionId\r\n\r\n        })\r\n      }).then(response => response.json())\r\n      .then(data => {\r\n        if (data.status != \"Ok\") {\r\n          this.props.alert.show(data.status)\r\n        }\r\n        else {\r\n          this.setState({ key: data.key, gameStarted: true });\r\n        }\r\n      }).catch(function (err) {\r\n        console.log(err)\r\n      });\r\n  }\r\n\r\n  async topUp() {\r\n    //if(key.substr(0,2) != \"0x\")\r\n    //key = \"0x\" + this.state.privateKey;\r\n    let mainContract = new this.state.web3.eth.Contract(abi, \"0x7Af6faCB28061cFEb5f7D6538B4d63988C8AeE66\")\r\n    let account = await window.ethereum.request({ method: 'eth_requestAccounts' })\r\n    let amount = ethers.utils.parseEther(this.state.amount).toString()\r\n    let overrides = {\r\n      gasLimit: 53000,\r\n      from: account[0],\r\n      value: amount,\r\n    }\r\n    let thisObj = this\r\n    mainContract.methods.deposit(this.state.currentUser).send(overrides).on('transactionHash', function(){      \r\n      thisObj.props.alert.show(\"Please Await Transaction\")\r\n      thisObj.setState({ currentPanel: 0 })\r\n    })\r\n    .on('receipt',(res) => {\r\n      thisObj.props.alert.show(\"Deposit Confirmed\")\r\n      thisObj.getBalance()\r\n    })\r\n    return\r\n  }\r\n\r\n  cashOut() {\r\n    fetch(serverURL + 'withdraw/',\r\n      {\r\n        method: 'post',\r\n        headers: {\r\n          'Accept': 'application/json',\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          \"key\": this.state.key,\r\n          \"username\": this.state.currentUser,\r\n          \"password\": this.state.password,\r\n          \"address\": this.state.coinbase,\r\n          \"sessionId\": this.state.sessionId,\r\n          \"amount\": this.state.amount\r\n        })\r\n      }).then(response => response.json())\r\n      .then(data => {\r\n        if (data.status != \"Ok\") {\r\n          this.props.alert.show(data.status)\r\n        }\r\n        else {\r\n          this.props.alert.show(\"Withdrawal Confirmed\")\r\n          this.setState({ currentPanel: 0 })\r\n        }\r\n      }).catch(function (err) {\r\n        console.log(err)\r\n      });\r\n  }\r\n\r\n  quitGame() {\r\n    fetch(serverURL + 'quitGame/',\r\n      {\r\n        method: 'post',\r\n        headers: {\r\n          'Accept': 'application/json',\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          \"username\": this.state.currentUser,\r\n          \"key\": this.state.key,\r\n          \"sessionId\": this.state.sessionId\r\n        })\r\n      }).then(response => response.json())\r\n      .then(data => {\r\n        if (data.status != \"Ok\") {\r\n          this.props.alert.show(data.status)\r\n        }\r\n        else {\r\n          this.setState({ gameStarted: false });\r\n          this.getBalance();\r\n        }\r\n      }).catch(function (err) {\r\n        console.log(err)\r\n      });\r\n  }\r\n\r\n  sendMessage() {\r\n    var sender = (this.state.username == \"\" ? \"Guest\" : this.state.username);\r\n    socket.emit(\"CHAT\", { sender: sender, message: this.state.chatMessage })\r\n    this.setState({ chatMessage: \"\" })\r\n\r\n  }\r\n\r\n  handleMessageBox(event) {\r\n    this.setState({ chatMessage: event.target.value })\r\n  }\r\n\r\n  handlePanels(val) {\r\n    this.setState({ currentPanel: val })\r\n  }\r\n\r\n  handleKey(event) {\r\n    this.setState({ privateKey: event.target.value })\r\n  }\r\n\r\n  handleAmount(event) {\r\n    this.setState({ amount: event.target.value })\r\n  }\r\n\r\n  handleAddress(event) {\r\n    this.setState({ coinbase: event.target.value })\r\n  }\r\n\r\n  render() {\r\n    const profilePanels = [\r\n      <Profile\r\n        joinGame={this.joinGame}\r\n        username={this.state.username}\r\n        balance={this.state.balance + this.state.spent}\r\n        handlePanels={this.handlePanels}\r\n      />,\r\n      <TopUp\r\n        joinGame={this.joinGame}\r\n        username={this.state.username}\r\n        balance={this.state.balance + this.state.spent}\r\n        handlePanels={this.handlePanels}\r\n        handleAmount={this.handleAmount}\r\n        amount={this.state.amount}\r\n        privateKey={this.state.privateKey}\r\n        handleKey={this.handleKey}\r\n        topUp={this.topUp}\r\n      />,\r\n      <CashOut\r\n        joinGame={this.joinGame}\r\n        username={this.state.username}\r\n        balance={this.state.balance + this.state.spent}\r\n        handlePanels={this.handlePanels}\r\n        coinbase={this.state.coinbase}\r\n        handleAmount={this.handleAmount}\r\n        handleAddress={this.handleAddress}\r\n        amount={this.state.amount}\r\n        cashOut={this.cashOut}\r\n      />\r\n    ]\r\n    return (\r\n      <div className=\"Home\">\r\n        <div className=\"Panel\">\r\n          <h1>Balloon Game</h1>\r\n          {this.state.currentUser == \"\" ? <Login login={this.login} register={this.register} /> : (this.state.gameStarted ? null : profilePanels[this.state.currentPanel])}\r\n        </div>\r\n        <GameScreen userCount={this.state.userCount} clickBalloon={this.clickBalloon} gameStarted={this.state.gameStarted} />\r\n        <div style={{ position: \"absolute\", left: \"0px\", top: \"0px\", backgroundColor: \"#00000052\", borderRadius: \"5px\", margin: \"10px\", color: \"white\", padding: \"5px\" }}>\r\n          <h1>{this.state.userCount}</h1>\r\n        Players</div>\r\n        <div style={{ position: \"absolute\", right: \"0px\", top: \"0px\", backgroundColor: \"#00000052\", borderRadius: \"5px\", margin: \"10px\", color: \"white\", padding: \"5px\" }}>\r\n          Balance\r\n        <h1>{this.state.balance + this.state.spent}</h1></div>\r\n        {this.state.gameStarted ?\r\n          <div onClick={this.quitGame} style={{ position: \"absolute\", right: \"0px\", bottom: \"0px\", backgroundColor: \"#00000052\", borderRadius: \"5px\", margin: \"10px\", color: \"white\", padding: \"5px\" }}>\r\n            Quit Game</div>\r\n          : null}\r\n        {\r\n          this.state.gameStarted &&\r\n          <Chat messageList={this.state.messageList} chatMessage={this.state.chatMessage} handleChat={this.handleMessageBox} sendMessage={this.sendMessage} />\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withAlert()(Home);\r\n","import React, { Component } from 'react';\nimport { BrowserRouter as Router, Route, Link, Switch } from \"react-router-dom\";\nimport logo from './logo.svg';\nimport './App.css';\nimport Home from './Home.js';\nimport GameScreen from './GameScreen.js';\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n      <Router>\n      <div>\n        <Route exact path='/' render={(props) => <Home {...props}\n        />}/>\n        <Route path='/exchange' render={(props) => <GameScreen {...props}\n        /> }/>\n        </div>\n      </Router>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { Provider as AlertProvider } from 'react-alert'\nimport AlertTemplate from 'react-alert-template-basic'\nimport * as serviceWorker from './serviceWorker';\n\nconst options = {\n  position: 'bottom center',\n  timeout: 5000,\n  offset: '30px',\n  transition: 'scale'\n}\n\nReactDOM.render(<AlertProvider template={AlertTemplate} {...options}><App /></AlertProvider>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}